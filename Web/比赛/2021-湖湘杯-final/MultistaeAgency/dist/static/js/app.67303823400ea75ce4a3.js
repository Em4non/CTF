webpackJsonp([1],{"7QVd":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},a,!1,function(t){n("qGWJ")},null,null).exports,o=n("/ocq"),u=n("Xxa5"),c=n.n(u),i=n("exGp"),p=n.n(i),l=n("//Fk"),d=n.n(l),f=n("mtWM"),v=n.n(f),h="";v.a.interceptors.response.use(function(t){return 200===t.status&&t.data.IsSucceed?t.data:t},function(t){return console.log("err",t),d.a.reject(t)});var m=function(t,e){return v.a.get(h+"/"+t,{params:e}).then(function(t){return t})};var _=function(t){return m("token?http_proxy=127.0.0.1:8080",t)},k=function(t){return m("list",t)},x=function(t){return function(t,e){return v.a.post(h+"/"+t,e).then(function(t){return t})}("upload",t)},w={name:"upload",data:function(){return{list:[],options:{target:"",testChunks:!1},token:"",showUp:!0}},methods:{upload:function(){this.showUp=!this.showUp},getUserToken:function(){var t=this;return p()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:n=e.sent,t.token=n.data.success,console.log("this.token",t.token),t.options.target="/upload?token="+t.token;case 6:case"end":return e.stop()}},e,t)}))()},fileStatusText:function(t){"success"===t&&this.getUserList()},getUserList:function(){var t=this;return p()(c.a.mark(function e(){var n,r,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return n=e.sent,r={token:n.data.success},e.next=6,k(r);case 6:a=e.sent,t.list=a.data.files,console.log(a);case 9:case"end":return e.stop()}},e,t)}))()},userUpload:function(){var t=this;return p()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return{token:t.token},e.next=3,x();case 3:e.sent;case 4:case"end":return e.stop()}},e,t)}))()}},created:function(){},mounted:function(){this.getUserToken(),this.getUserList()}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload_main"},[n("Row",[n("Col",{attrs:{span:"24"}},[n("h1",{staticStyle:{"text-align":"center","margin-bottom":"20px"}},[t._v("XX公司保密文件系统")])])],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"24"}},[n("div",{staticClass:"back",on:{click:t.upload}},[n("Icon",{attrs:{type:"md-cloud-upload"}}),t._v("上传")],1)])],1),t._v(" "),t.showUp?t._e():n("uploader",{staticClass:"uploader-example",attrs:{options:t.options,fileStatusText:t.fileStatusText}},[n("uploader-unsupport"),t._v(" "),n("uploader-drop",[n("p",[t._v("拖拽文件或者")]),t._v(" "),n("uploader-btn",[t._v("选择文件")])],1),t._v(" "),n("uploader-list")],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"24"}},[n("div",{staticClass:"title"},[t._v("全部文件")])])],1),t._v(" "),t._l(t.list,function(e,r){return n("Row",{key:r},[n("Col",{attrs:{span:"24"}},[n("div",{staticClass:"document"},[n("Icon",{staticStyle:{"margin-right":"4px"},attrs:{type:"md-document"}}),t._v(t._s(e))],1)])],1)})],2)},staticRenderFns:[]};var U=n("VU/8")(w,g,!1,function(t){n("cm9+")},"data-v-3495892e",null).exports;r.default.use(o.a);var C=new o.a({routes:[{path:"/",name:"upload",component:U}]}),y=n("b3L9"),b=n.n(y),R=(n("7QVd"),n("LgDO")),S=n.n(R);r.default.config.productionTip=!1,r.default.use(b.a),r.default.use(S.a),new r.default({el:"#app",router:C,components:{App:s},template:"<App/>"})},"cm9+":function(t,e){},qGWJ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.67303823400ea75ce4a3.js.map